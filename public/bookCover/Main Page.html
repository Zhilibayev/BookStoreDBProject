<!DOCTYPE html>
<!-- saved from url=(0030)http://localhost:9000/mainPage -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<title>Main Page</title>
        <script src="./Main Page_files/jquery-3.1.1.js"></script>	
        <script src="./Main Page_files/materialize.js"></script>	
        <link rel="stylesheet" href="./Main Page_files/materialize.css">
        <link rel="stylesheet" href="./Main Page_files/animate.css"> 
        <link rel="stylesheet" href="./Main Page_files/mainPage.css"> 
        <link rel="stylesheet" href="./Main Page_files/readMore.css"> 
        <link href="./Main Page_files/icon" rel="stylesheet">
	</head>
    <body data-pinterest-extension-installed="cr2.0.5">
        <script>
            
        </script>
        <div id="readMore" style="display: none;">
            
                <div class="book card"> 
					<img src="./Main Page_files/1.jpg"> 
					<div class="afterCover"> 
						<p class="bookTitle inf"><span class="tit"><b>Title:</b></span> Crime and Punishment</p> 
						<p class="bookAuthor inf"><span class="tit"><b>Author:</b></span> Fyodor Dostoyevsky</p> 
						<p class="bookPrice inf"><span class="tit"><b>Price:</b></span> 3000</p> 
						<p class="bookDescription inf"><span class="tit"><b>Description:</b></span> Pride and Prejudice is a novel by Jane Austen, first published in 1813. The story follows the main character, Elizabeth Bennet, as she deals with issues of manners, upbringing, morality, education, and marriage in the society of the landed gentry of the British Regency. Elizabeth is the second of five daughters of a country gentleman, Mr Bennet, living in Longbourn. Set in England in the early 19th century, Pride and Prejudice tells the story of Mr and Mrs Bennet's five unmarried daughters after two gentlemen have moved into their neighbourhood: the rich and eligible Mr Bingley, and his status-conscious friend, the even richer and more eligible Mr Darcy. While Bingley takes an immediate liking to the eldest Bennet daughter, Jane, Darcy is disdainful of local society and repeatedly clashes with the Bennets' lively second daughter, Elizabeth. </p> 
						<!-- <a class="waves-effect waves-light teal darken-4 btn"><img src = "public/bookCover/cart.png">Add to cart</a> -->
						<a class="waves-effect waves-light btn teal darken-3"><i class="material-icons left">shopping_cart</i> Add to cart</a> 

				</div> 
		
        </div>
        </div>
        <div id="mainBody" style="filter: blur(0px);">
        <div id="background"></div>
        <div id="header" class="row">
            <div class="col s4">
                <a id="username" class="waves-effect waves-light btn purple">Anchik@gmail.com</a>
            </div>
            <div id="name" class="col s4 z-depth-2"><h4>doubleZh Bookstore</h4></div>
            <div class="col s4">
               <a class="waves-effect waves-light btn purple" href="http://localhost:9000/logout">logout</a>
               <a class="waves-effect waves-light btn purple"><i class="material-icons left">shopping_cart</i> cart</a>
            </div>  
        </div>
        
        <div class="row search-wrapper">
            <input id="searchBar" placeholder="Select type of search and enter searching item">
        </div>
        
        <form action="http://localhost:9000/mainPage#" class="row form">
            <input class="with-gap" name="group1" type="radio" id="title" checked="checked">
            <label for="title">Title</label>
            
            <input class="with-gap" name="group1" type="radio" id="isbn">
            <label for="isbn">ISBN</label>
            
            <input class="with-gap" name="group1" type="radio" id="author">
            <label for="author">Author</label>
            
            <input class="with-gap" name="group1" type="radio" id="publisher">
            <label for="publisher">Publisher</label>
      </form>
   
<!--        <a class = "btn" href = "/logout/">logout</a>-->
        <div id="main" class="row">
            

        <div value="0" class="book card animated fadeInLeft"><img src="./Main Page_files/erwb42539.jpg"><div class="afterCover"><p class="bookTitle inf"><span class="tit">Title:</span> Crime and Punishment</p><p class="bookTitle inf"><span class="tit">Author:</span> Fyodor Dostoyevsky</p><p class="bookTitle inf"><span class="tit">Price:</span> 3000</p><a>read more...</a></div></div><div value="1" class="book card animated fadeInLeft"><img src="./Main Page_files/fgsj23153.jpg"><div class="afterCover"><p class="bookTitle inf"><span class="tit">Title:</span> Anna Karenina</p><p class="bookTitle inf"><span class="tit">Author:</span> Leo Tolstoy</p><p class="bookTitle inf"><span class="tit">Price:</span> 2900</p><a>read more...</a></div></div><div value="2" class="book card animated fadeInLeft"><img src="./Main Page_files/wyfj7828.jpg"><div class="afterCover"><p class="bookTitle inf"><span class="tit">Title:</span> Abai Zholy</p><p class="bookTitle inf"><span class="tit">Author:</span> Mukhtar Auezov</p><p class="bookTitle inf"><span class="tit">Price:</span> 3100</p><a>read more...</a></div></div><div value="3" class="book card animated fadeInLeft"><img src="./Main Page_files/wyv27394.jpg"><div class="afterCover"><p class="bookTitle inf"><span class="tit">Title:</span> Pride and Prejudice</p><p class="bookTitle inf"><span class="tit">Author:</span> Jane Austen</p><p class="bookTitle inf"><span class="tit">Price:</span> 2700</p><a>read more...</a></div></div></div>
        
<!--        <button id="add" class = "btn">add book</button>-->    
                
            
        <div id="footer" class="z-depth-5">     
            <div id="firstDiv">
                <p class="creaters">The project made by </p>
                <p class="detail">Altyn Zhelambayeva</p>
                <p class="detail">Serik Zhilibayev</p>   
            </div>
            <div id="secondDiv">
                <p class="creaters">If you have any questions you can write to</p>
                <p class="detail">altyn.zhelambayeva@nu.edu.kz</p>
                <p class="detail">serik.zhilibayev@nu.edu.kz</p>   
                <p class="creaters">Special credits to social-catwork made by Sagynysh Baitursinov</p>
            </div>
            <div id="quote" class="z-depth-5">
                    <h4>There is no friend </h4>
                    <h4>as loyal as book</h4>
                	<h5>Ernest Hemingway</h5>
            </div>    
        </div>
        
        
        </div>
        
        <script>
            var idx;
            getAllBooks();
            
            var isBottom = false;
            var CustomerInfo = JSON.parse("{&quot;id&quot;:3,&quot;username&quot;:&quot;Anchik@gmail.com&quot;,&quot;address&quot;:&quot;123&quot;,&quot;email&quot;:&quot;Anchik@gmail.com&quot;,&quot;phone&quot;:&quot;123&quot;,&quot;password&quot;:&quot;123&quot;}".replace(/&quot;/g,'"'));
            console.log(CustomerInfo);
            
            $("#username").html(CustomerInfo.email); 
            
            var last = 0; 
            var extra = 100;
            var footer = $("#footer");
            
            
            function newItem(title, author, price, cover, i){
            	var book = $("<div/>", {
                    value: i,
            		class: 'book card'
            	});
            	
            	var img = $("<img/>",{
            		src : '/public/bookCover/' + cover + '.jpg'
            	});
            	var afterCover = $("<div/>",{
            		class :"afterCover"
            	});
            	var p1 = $("<p/>",{
            		class: "bookTitle inf"
            	});	
            	p1.html("<span class = 'tit'>Title:</span> " + title);
            	var p2 = $("<p/>",{
            		class: "bookTitle inf"
            	});
            	p2.html("<span class = 'tit'>Author:</span> " + author);
            	var p3 = $("<p/>",{
            		class: "bookTitle inf"
            	});
            	p3.html("<span class = 'tit'>Price:</span> " + price);
            	
                var a = $("<a/>",{
                    click: function(){
                        $("#readMore").css("display","block");
                        $("#mainBody").css("filter","blur(10px)");
                        idx = $(this).parent().parent().index();
                        $("#readMore .bookTitle").html("<span class = 'tit'><b>Title:</b></span> " + books[idx].title);
                        $("#readMore .bookAuthor").html("<span class = 'tit'><b>Author:</b></span> " + books[idx].aname);
                        $("#readMore .bookPrice").html("<span class = 'tit'><b>Price:</b></span> " + books[idx].price);
                        $("#readMore img").css("src", "URL('"+"/public/bookCover/" + books[idx].isbn + ".jpg')");
                    },
            		text: "read more..."
            	});
            	
            	book.append(img);
            	afterCover.append(p1);
            	afterCover.append(p2);
            	afterCover.append(p3);
            	afterCover.append(a);
            	book.append(afterCover);
            	book.addClass("animated fadeInLeft");
            	$("#main").append(book);
            }
            
            var books;
            function getAllBooks(){
            	
					$.ajax({ 
						method :  "post",
		    			url  :  "/mainpagecontroller/getallbooks",
		    			success: function(data){
		    				books = [];
		    				books = JSON.parse(data);
		    				UpdateBooks();
		   				}
					});
			
            }
            
            function UpdateBooks(){
            	for (var i = 0; i < books.length; i = i+1){
            		newItem(books[i].title, books[i].aname, books[i].price, books[i].isbn, i);
            	}
            }
            function EmptyArray(){
            	
            }
            
            $(window).scroll(function() {

                var scrolledLength = ( $(window).height() + extra ) + $(window).scrollTop();
                var documentHeight = $(document).height();
                
               if( scrolledLength >= documentHeight ) {
                   footer.addClass('bottom').stop().animate({ bottom: '0', opacity: '1' }, 300);
               }
               else if ( scrolledLength <= documentHeight && footer.hasClass('bottom') ) {           
                    footer.removeClass('bottom').stop().animate({ bottom: '-100', opacity: '0' }, 300);

               }
        	});
            
            console.log();
            $("#searchBar").keyup(
            		function( event ){
                         if (event.keyCode == 13) {
        
            			books = [];
            			console.log($(this).val());
            			if ($("#title")[0].checked){
                            
            				$("#main").empty();
            				getBooksByTitle($(this).val() + "");
            			
            			}else if ($("#author")[0].checked){
            				console.log("Author");
            				$("#main").empty();
            				getBooksByAuthor($(this).val());
            			
            			}else if ($("#isbn")[0].checked){
            				
            				$("#main").empty();
            				getBooksByISBN($(this).val());
            			
            			}else if ($("#publisher")[0].checked){
            			
            				$("#main").empty();
            				getBooksByPublisher($(this).val());
            			}
                        }

            		});
        
            function getBooksByTitle(sbs){
            	$.ajax({ 
					method :  "post",
					data: {title: sbs},
	    			url  :  "/mainpagecontroller/getbooksbytitle",
	    			success: function(data){
	    				
	    				books = JSON.parse(data);
	    				console.log(books);
	    				UpdateBooks();
	   				}
				});
            }
			
            function getBooksByAuthor(sbs){
            	$.ajax({ 
					method :  "post",
					data: {author: sbs},
	    			url  :  "/mainpagecontroller/getbooksbyauthor",
	    			success: function(data){
	    				
	    				books = JSON.parse(data);
	    				console.log(books);
	    				UpdateBooks();
	   				}
				});
            	
            }
			
			
            function getBooksByISBN(sbs){
            	
            	$.ajax({ 
					method :  "post",
					data: {isbn: sbs},
	    			url  :  "/mainpagecontroller/getbooksbyisbn",
	    			success: function(data){
	    				
	    				books = JSON.parse(data);
	    				console.log(books);
	    				UpdateBooks();
	   				}
				});
	
			}
			
            function getBooksByPublisher(sbs){
            	$.ajax({ 
					method :  "post",
					data: {publisher: sbs},
	    			url  :  "/mainpagecontroller/getbooksbypublisher",
	    			success: function(data){
	    				
	    				books = JSON.parse(data);
	    				console.log(books);
	    				UpdateBooks();
	   				}
				});
            }
            $("#readMore").click(function(){
                $("#readMore").css("display","none");
                $("#mainBody").css("filter","blur(0px)");
            });
			
        </script>
    









<div class="hiddendiv common"></div><span style="border-radius: 2px; text-indent: 20px; width: auto; padding: 0px 4px 0px 0px; text-align: center; font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 11px; line-height: 20px; font-family: &quot;Helvetica Neue&quot;, Helvetica, sans-serif; color: rgb(255, 255, 255); background: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzBweCIgd2lkdGg9IjMwcHgiIHZpZXdCb3g9Ii0xIC0xIDMxIDMxIj48Zz48cGF0aCBkPSJNMjkuNDQ5LDE0LjY2MiBDMjkuNDQ5LDIyLjcyMiAyMi44NjgsMjkuMjU2IDE0Ljc1LDI5LjI1NiBDNi42MzIsMjkuMjU2IDAuMDUxLDIyLjcyMiAwLjA1MSwxNC42NjIgQzAuMDUxLDYuNjAxIDYuNjMyLDAuMDY3IDE0Ljc1LDAuMDY3IEMyMi44NjgsMC4wNjcgMjkuNDQ5LDYuNjAxIDI5LjQ0OSwxNC42NjIiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIj48L3BhdGg+PHBhdGggZD0iTTE0LjczMywxLjY4NiBDNy41MTYsMS42ODYgMS42NjUsNy40OTUgMS42NjUsMTQuNjYyIEMxLjY2NSwyMC4xNTkgNS4xMDksMjQuODU0IDkuOTcsMjYuNzQ0IEM5Ljg1NiwyNS43MTggOS43NTMsMjQuMTQzIDEwLjAxNiwyMy4wMjIgQzEwLjI1MywyMi4wMSAxMS41NDgsMTYuNTcyIDExLjU0OCwxNi41NzIgQzExLjU0OCwxNi41NzIgMTEuMTU3LDE1Ljc5NSAxMS4xNTcsMTQuNjQ2IEMxMS4xNTcsMTIuODQyIDEyLjIxMSwxMS40OTUgMTMuNTIyLDExLjQ5NSBDMTQuNjM3LDExLjQ5NSAxNS4xNzUsMTIuMzI2IDE1LjE3NSwxMy4zMjMgQzE1LjE3NSwxNC40MzYgMTQuNDYyLDE2LjEgMTQuMDkzLDE3LjY0MyBDMTMuNzg1LDE4LjkzNSAxNC43NDUsMTkuOTg4IDE2LjAyOCwxOS45ODggQzE4LjM1MSwxOS45ODggMjAuMTM2LDE3LjU1NiAyMC4xMzYsMTQuMDQ2IEMyMC4xMzYsMTAuOTM5IDE3Ljg4OCw4Ljc2NyAxNC42NzgsOC43NjcgQzEwLjk1OSw4Ljc2NyA4Ljc3NywxMS41MzYgOC43NzcsMTQuMzk4IEM4Ljc3NywxNS41MTMgOS4yMSwxNi43MDkgOS43NDksMTcuMzU5IEM5Ljg1NiwxNy40ODggOS44NzIsMTcuNiA5Ljg0LDE3LjczMSBDOS43NDEsMTguMTQxIDkuNTIsMTkuMDIzIDkuNDc3LDE5LjIwMyBDOS40MiwxOS40NCA5LjI4OCwxOS40OTEgOS4wNCwxOS4zNzYgQzcuNDA4LDE4LjYyMiA2LjM4NywxNi4yNTIgNi4zODcsMTQuMzQ5IEM2LjM4NywxMC4yNTYgOS4zODMsNi40OTcgMTUuMDIyLDYuNDk3IEMxOS41NTUsNi40OTcgMjMuMDc4LDkuNzA1IDIzLjA3OCwxMy45OTEgQzIzLjA3OCwxOC40NjMgMjAuMjM5LDIyLjA2MiAxNi4yOTcsMjIuMDYyIEMxNC45NzMsMjIuMDYyIDEzLjcyOCwyMS4zNzkgMTMuMzAyLDIwLjU3MiBDMTMuMzAyLDIwLjU3MiAxMi42NDcsMjMuMDUgMTIuNDg4LDIzLjY1NyBDMTIuMTkzLDI0Ljc4NCAxMS4zOTYsMjYuMTk2IDEwLjg2MywyNy4wNTggQzEyLjA4NiwyNy40MzQgMTMuMzg2LDI3LjYzNyAxNC43MzMsMjcuNjM3IEMyMS45NSwyNy42MzcgMjcuODAxLDIxLjgyOCAyNy44MDEsMTQuNjYyIEMyNy44MDEsNy40OTUgMjEuOTUsMS42ODYgMTQuNzMzLDEuNjg2IiBmaWxsPSIjYmQwODFjIj48L3BhdGg+PC9nPjwvc3ZnPg==&quot;) 3px 50% / 14px 14px no-repeat rgb(189, 8, 28); position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer; border: none; -webkit-font-smoothing: antialiased; top: 296px; left: 670px;">Сохранить</span></body></html>