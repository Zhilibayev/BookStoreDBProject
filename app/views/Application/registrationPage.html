<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Login To The BookStore</title>
		<link rel="stylesheet" href="/public/stylesheets/main.css">
		<script src="/public/javascripts/jquery-1.6.4.min.js" type="text/javascript"></script>
		<script src="/public/jquery-3.1.1.js"></script>	
        <script src="/public/materialize/js/materialize.js"></script>	
        <link rel="stylesheet" href="/public/materialize/css/materialize.css"/>
        <link rel="stylesheet" href="/public/stylesheets/animate.css"/> 
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		
	</head>
	<body>
		
		
	
			
			<div class="parallax-container">
            <div class="parallax"><img src="/public/images/1.jpg"></div>
        </div>
        <div class="section white">
            <div class="row container">
                  <h2 class="header">doubleZh Bookstore</h2>
                  <div id="errorMessages">
		          </div>
                    <div class = "form">
                        <input type="text" id = "username" placeholder="Username"/>
                        <input type="text" id = "email" placeholder="Email"/>
                        <input type="password" id = "password" placeholder="Password"/>
                        <input type="password" id = "password2" placeholder="Again password"/>
                        <input type="text" id = "phone" placeholder="Phone"/>
                        <input type="text" id = "address" placeholder="Address"/>
                        <button id = "register" class = "btn">Register</button>

                        <a href="/login">I want to login</a>
                    </div>	
            </div>
        </div>
        <div class="parallax-container">
            <div class="parallax"><img src="/public/images/2.jpg"></div>
        </div>
        
	
		<script>
             $('.parallax').parallax();
		$("#register").click(function(){
			
			var email = $("#email").val();
			if (email == ""){
				$("#errorMessages").html("Please Enter Email");
				return;
			}
			
			var username = $("#username").val();
			if (username == ""){
				$("#errorMessages").html("Please Enter Username");
				return;
			}
			
			var password1 = $("#password").val();
			if (password.length == 0){
				$("#errorMessages").html("Please Enter Password");
				return;
			}
			
			var password2 = $("#password2").val();
			if (password2.length == 0){
				$("#errorMessages").html("Please Repeat your Password");
				return;
			}
			
			var address = $("#address").val();
			if (address == ""){
				$("#errorMessages").html("Please Enter Address");
				return;
			}
			
			var phone = $("#phone").val();
			if (phone == ""){
				$("#errorMessages").html("Please Enter Phone");
				return;
			}
			
			if (password1 != password2){
				$("#errorMessages").html("Please Enter Password Correctly");
				return;
			}
			
			var message = {u: username, e: email, p: password1, a: address, ph: phone};
			
			var json = JSON.stringify(message);
			console.log(json);
			
			$.ajax({ 	
				method :  "post",
    			url  :  "@{Application.registrationHandle}",
    			data: {data: json},
    			success: function(data){
    				console.log("I handled your response");
    				console.log(data);
    				
    				if (data == "true"){
    					$("#errorMessages").html("You Successfully Registered");
    				}else{
    					$("#errorMessages").html("The User With This Email Is Already Exists");
    				}
   				}	
			});
			
	});
			
			
			
		</script>
	
	
	</body>






</html>